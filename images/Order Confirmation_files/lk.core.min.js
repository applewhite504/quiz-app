(function($){function iE(o){return o==null||o==undefined}if(iE($)){return}$.lk={version:"1.0"};var L=$.lk,W=window,D=W.document;L.b={messaging:!iE(W.postMessage)};L.iE=iE;L.trim=function(s){if(iE(s)){return s}return s.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};L.startWith=function(s,x){if(iE(s)){return false}return s.match("^"+x)==x};L.endWith=function(s,x){if(iE(s)||iE(s)||s.length<x.length){return false}return s.substring(s.length-x.length)==x};L.stripHtml=function(x){if(!iE(x)&&L.typeOf(x)==="string"){return x.replace(/\<\/?[^\>]+\>/gi,"")}return""};L.center=function(x,aX,aY){var size=[$(x).width(),$(x).height()],scrollW=[$(W).scrollLeft(),$(W).scrollTop()],sizeW=[$(W).width(),$(W).height()],bX=(iE(aX)?0:aX),bY=(iE(aY)?0:aY);return $(x).css({left:(sizeW[0]-size[0])/2+scrollW[0]+bX+"px",top:(sizeW[1]-size[1])/2+scrollW[1]+bY+"px"})};L.formatMoney=function(x,c,d,t,m){var c=iE(c)?2:c,m=iE(m)?"$":m,d=iE(d)?",":d,t=iE(t)?".":t,s=n<0?"-":"",n=L.typeOf(x)=="number"?x:parseFloat(x);return s+m+Math.abs(n).toFixed(c)};L.cleanHtml=function(x){if(!iE(x)&&L.typeOf(x)==="string"){return x.replace(/\<(?!br|\/?ul|\/?ol|\/?li|\/?dl|\/?dd|\/?dt|\/?p|\/?b|\/?i|\/?em|\/?strong)(?:\s.*?)?\>/ig," ")}return tmp};L.randomString=function(length){var chars="0123456789abcdefghiklmnopqrstuvwxyz_";var str_length=length||10;var r="";for(var i=0;i<str_length;i++){r+=chars.substr(Math.floor(Math.random()*chars.length),1)}return r};L.cookie=function(n,v,o){if(iE(n)){return null}if(v==undefined&&o!=undefined&&o["delete"]){v="";o=$.extend({},o);o.expires=-1}if(!iE(v)){o=o||{};var expires="";if(o.expires&&(typeof o.expires=="number"||o.expires.toUTCString)){var d;if(typeof o.expires=="number"){d=new Date;d.setTime(d.getTime()+o.expires*1000)}else{date=o.expires}expires="; expires="+d.toUTCString()}var path=o.path?"; path="+o.path:"",domain=o.domain?"; domain="+o.domain:"",secure=o.secure?"; secure":"";D.cookie=[n,"=",encodeURIComponent(v),expires,path,domain,secure].join("")}else{var cookieValue=null;if(D.cookie&&D.cookie!=""){for(var cookies=D.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=L.trim(cookies[i]);if(cookie.substring(0,n.length+1)==n+"="){cookieValue=decodeURIComponent(cookie.substring(n.length+1));break}}}return cookieValue}};L.inFrame=function(){if(W.parent!==W.self){return true}return false};L.addEventListener=function(n,f,o){if(iE(o)){o=W}if(!iE(W.addEventListener)){o.addEventListener(n,f,false)}if(!iE(W.attachEvent)){o.attachEvent("on"+n,f)}};L.cancelEvent=function(e){e.preventDefault();e.stopPropagation();if(W.event){W.event.returnValue=false}return false};L.yahoo={};L.yahoo.disableCart=function(){D.write("<noscript>")};L.yahoo.getOrderFormAction=function(x,i){return"https://order.store.yahoo.net/"+x+"/cgi-bin/wg-order?"+x+(iE(i)?"":i)};L.typeOf=function(x){var s=typeof x;if(s==="object"){if(iE(x)){if(x.nodeType===1){str="html"}else{if(x instanceof Array){str="array"}else{if(x instanceof Date){str="date"}}}}else{str="null"}}return s};L.exeF=function(x,args){if(!iE(x)&&L.typeOf(x)=="function"){return x(args)}};L.generateUrl=function(d,p,pa,p1,p2){if(d==null){return null}var ps=(p.indexOf("?")==-1&&!iE(pa)?"?":"")+L.setQueryParams(pa);return(p2!=null?p2:W.location.protocol)+"//"+d+"/"+(p1!=null?p1+"/":"")+p+ps};L.setQueryParams=function(a){var s="";if(a!=null){for(var x in a){s+=(s!=""?"&":"")+encodeURIComponent(x)+"="+encodeURIComponent(a[x])}}return s};L.getQueryParam=function(n,u){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var rs="[\\?&]"+n+"=([^&#]*)",re=new RegExp(rs),r=re.exec(iE(u)?W.location.search:u);if(r==null){return null}else{return r[1]}};L.overlay=function(opacity,color,clickFunction){var ov=$("#lk_overlay"),scrollW=[$(W).scrollLeft(),$(W).scrollTop()];sizeW=[$(W).width(),$(W).height()];if(ov.length==0){ov=$("<div id=lk_overlay></div>").appendTo(D.body)}if(opacity>0){ov.css({position:"absolute",left:scrollW[0],top:scrollW[1],backgroundColor:iE(color)?"#000000":color,zIndex:100000,width:sizeW[0]+"px",height:sizeW[1]+"px",opacity:opacity}).show().click(function(e){L.exeF(clickFunction)})}else{ov.hide()}};L.mergeArrays=function(orig,over){if(iE(orig)){return over}if(iE(over)){return orig}var c={};for(var x in orig){c[x]=!iE(over[x])?over[x]:orig[x]}for(var x in over){if(iE(c[x])){c[x]=over[x]}}return c};L.toJSON=function(o){if(!iE(W.JSON)&&W.JSON.parse&&W.JSON.stringify){return W.JSON.stringify(o)}var s1=s2="",v="null";if(o!=null){switch(typeof o){case"function":v="null";break;case"string":v='"'+o+'"';break;case"object":var ws=Object.prototype.toString;switch(ws.call(o)){case"[object Date]":v='"'+o.toUTCString()+'"';break;case"[object Array]":s1="[";s2="]";v="";for(var i=0;i<o.length;i++){v+=((v=="")?"":",")+toJSON(o[i])}break;case"[object Function]":v="null";break;case"[object Object]":s1="{";s2="}";v="";for(var i in o){v+=((v=="")?"":",")+'"'+i+'":'+toJSON(o[i])}break}break;case"number":v=isNaN(o)?"null":(isFinite(o)?o.toString():"null");break;case"boolean":v=o?"true":"false";break;case"undefined":v="undefined";break}}return s1+v+s2};L.fromJSON=function(x){return $.parseJSON(x)};L.getItem=function(id,callback,path,params){var u=L.generateUrl(W.location.host,id+".html",params,path,null);$.ajax(u,{async:true,cache:true,dataType:"text",complete:function(o,s){var x=null;switch(s){case"success":var d=o.responseText;if(!iE(o)&&!iE(d)){var mm=d.match(/\<\!\-\-\s*lk\-page\-info(.|\n|\r)*?\s*\-\-\>/gi),mp=d.match(/\<!\-\-\slk\-property\-(\w)*?\s?\-\-\>(.|\n|\r)*?\<\!\-\-\slk\-property\-(\w)*?\s\-\-\>/gi);x={};if(!iE(mm)){var t=mm[0].substring(mm[0].indexOf("{"),mm[0].lastIndexOf("}")+1);try{eval("x="+t)}catch(e){x=null}}if(!iE(mp)&&x!=null){for(var i=0;i<mp.length;i++){var n=mp[i].substring(mp[i].indexOf("lk-property-")+12,mp[i].indexOf("-->")).trim(),v=mp[i].substring(mp[i].indexOf("-->")+3,mp[i].lastIndexOf("<!--"));x[n]=v}}}break}L.exeF(callback,x)}})};L.template=function(t,o,cfg){if(iE(t)){return null}var m=t.match(/(\{lk.*?\})/gi);if(iE(m)){return t}for(var i=0;i<m.length;i++){var op=m[i].replace(/^\{/gi,"").replace(/\}$/gi,"");a=op.split(" ",2),ta=a[0],aa=a[1],b=aa.split(":"),at=b[0],ra=["{","}","(",")",".",":"],ms=m[i];for(var j=0;j<ra.length;j++){ms=ms.replace(new RegExp("\\"+ra[j]),"\\"+ra[j])}if(L.startWith(op,"lk ")){var r="";if(L.endWith(at,"()")){var fn=at.replace(/\(\)$/gi,"");if(!iE(cfg[fn])){r=L.exeF(cfg[fn],o)}}else{if(!iE(o[at])){r=o[at]}}for(var j=1;j<b.length;j++){switch(b[j]){case"stripHtml":r=L.stripHtml(r);break;case"lowerCase":r=r.toLowerCase();break;case"upperCase":r=r.toUpperCase();break}}t=t.replace(new RegExp(ms),r)}}return t};L.BaseClass=function(na){this.name=na;this.events={};this.addEvent=function(n,f,c){if(iE(this.events[n])){this.events[n]=[]}if(typeof f=="function"){this.events[n].push([f,iE(c)?null:c])}};this.runEvent=function(n,p,c){var a=this.events[n];for(var x in a){f=a[x];if(L.typeOf(f[0])=="function"&&(iE(c)||f[1]==c)){return f[0](p)}}return null}}})(jQuery);